# define list of object fies
CLTOBJ= testClient.o
SRVOBJ= testServer.o
TSTOBJ= test.o

# set compiler flags (debug, optimization, & pthread library)
CFLAGS=-g -O3 -lpthread

# first target is built by default
all: testClient testServer

# include file dependencies
testClient.o: testClient.h test.h
testServer.o: testServer.h test.h
test.o: test.h

# compilation instruction ($@ = target, $^ = prerequisites)
testClient: $(CLTOBJ)
	cc -o testClient $(CFLAGS) $(CLTOBJ)

testServer: $(SRVOBJ)
	cc -o testServer $(CFLAGS) $(SRVOBJ)

# deletes files generated by compilation
clean:
	rm -f *.o testClient testServer