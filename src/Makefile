# define list of object fies
CLTOBJ= testClient.o
SRVOBJ= testServer.o

# set compiler flags (debug and optimization)
CFLAGS=-g -O3

# first target is built by default
all: testClient testServer

# include file dependencies
testClient.o: testClient.h test.h
testServer.o: testServer.h test.h

# compilation instruction ($@ = target, $^ = prerequisites)
testClient: $(CLTOBJ)
	cc -o testClient $(CFLAGS) $(CLTOBJ) -lpthread

testServer: $(SRVOBJ)
	cc -o testServer $(CFLAGS) $(SRVOBJ) -lpthread

# deletes files generated by compilation
clean:
	rm -f *.o testClient testServer