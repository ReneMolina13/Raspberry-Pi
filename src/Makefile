# define list of object fies
CLTOBJ= bankClient.o
SRVOBJ= bankServer.o

# set compiler flags (debug and optimization)
CFLAGS=-g -O3

# first target is built by default
all: bankClient bankServer

# include file dependencies
bankClient.o: bankClient.h rmolina_banking.h
bankServer.o: bankServer.h rmolina_banking.h

# compilation instruction ($@ = target, $^ = prerequisites)
bankClient: $(CLTOBJ)
	cc -o bankClient $(CFLAGS) $(CLTOBJ) -lpthread

bankServer: $(SRVOBJ)
	cc -o bankServer $(CFLAGS) $(SRVOBJ) -lpthread

# deletes files generated by compilation
clean:
	rm -f *.o bankClient bankServer