# define list of object fies
CLTOBJ= testClient.o test.o
SRVOBJ= testServer.o test.o

# set compiler flags (debug, & optimization)
CFLAGS= -g -O3

# first target is built by default
all: testClient testServer

# include file dependencies
testClient.o: testClient.h test.h
testServer.o: testServer.h test.h
test.o: test.h

# compilation instruction ($@ = target, $^ = prerequisites)
testClient: $(CLTOBJ)
	cc -o testClient $(CFLAGS) $(CLTOBJ) -lpthread -lm

testServer: $(SRVOBJ)
	cc -o testServer $(CFLAGS) $(SRVOBJ) -lpthread -lm

# deletes files generated by compilation
clean:
	rm -f *.o testClient testServer